[mongo-baseops](../README.md) / [Exports](../modules.md) / [\<internal\>](../modules/internal_.md) / ["Z:/mongo-baseOps/node\_modules/mongodb/mongodb"](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md) / Collection

# Class: Collection\<TSchema\>

[\<internal\>](../modules/internal_.md).["Z:/mongo-baseOps/node\_modules/mongodb/mongodb"](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md).Collection

The **Collection** class is an internal class that embodies a MongoDB collection
allowing for insert/find/update/delete and other command operation on that MongoDB collection.

**COLLECTION Cannot directly be instantiated**

**`Example`**

```ts
import { MongoClient } from 'mongodb';

interface Pet {
  name: string;
  kind: 'dog' | 'cat' | 'fish';
}

const client = new MongoClient('mongodb://localhost:27017');
const pets = client.db().collection<Pet>('pets');

const petCursor = pets.find();

for await (const pet of petCursor) {
  console.log(`${pet.name} is a ${pet.kind}!`);
}
```

## Type parameters

| Name | Type |
| :------ | :------ |
| `TSchema` | extends [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) = [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) |

## Table of contents

### Constructors

- [constructor](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#constructor)

### Accessors

- [bsonOptions](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#bsonoptions)
- [collectionName](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#collectionname)
- [dbName](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#dbname)
- [hint](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#hint)
- [namespace](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#namespace)
- [readConcern](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#readconcern)
- [readPreference](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#readpreference)
- [writeConcern](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#writeconcern)

### Methods

- [aggregate](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#aggregate)
- [bulkWrite](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#bulkwrite)
- [count](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#count)
- [countDocuments](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#countdocuments)
- [createIndex](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#createindex)
- [createIndexes](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#createindexes)
- [createSearchIndex](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#createsearchindex)
- [createSearchIndexes](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#createsearchindexes)
- [deleteMany](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#deletemany)
- [deleteOne](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#deleteone)
- [distinct](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#distinct)
- [drop](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#drop)
- [dropIndex](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#dropindex)
- [dropIndexes](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#dropindexes)
- [dropSearchIndex](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#dropsearchindex)
- [estimatedDocumentCount](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#estimateddocumentcount)
- [find](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#find)
- [findOne](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#findone)
- [findOneAndDelete](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#findoneanddelete)
- [findOneAndReplace](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#findoneandreplace)
- [findOneAndUpdate](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#findoneandupdate)
- [indexExists](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#indexexists)
- [indexInformation](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#indexinformation)
- [indexes](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#indexes)
- [initializeOrderedBulkOp](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#initializeorderedbulkop)
- [initializeUnorderedBulkOp](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#initializeunorderedbulkop)
- [insertMany](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#insertmany)
- [insertOne](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#insertone)
- [isCapped](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#iscapped)
- [listIndexes](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#listindexes)
- [listSearchIndexes](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#listsearchindexes)
- [options](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#options)
- [rename](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#rename)
- [replaceOne](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#replaceone)
- [updateMany](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#updatemany)
- [updateOne](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#updateone)
- [updateSearchIndex](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#updatesearchindex)
- [watch](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md#watch)

## Constructors

### constructor

• **new Collection**\<`TSchema`\>(): [`Collection`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md)\<`TSchema`\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `TSchema` | extends [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) = [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) |

#### Returns

[`Collection`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md)\<`TSchema`\>

## Accessors

### bsonOptions

• `get` **bsonOptions**(): [`BSONSerializeOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSONSerializeOptions.md)

#### Returns

[`BSONSerializeOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSONSerializeOptions.md)

#### Defined in

node_modules/mongodb/mongodb.d.ts:2148

___

### collectionName

• `get` **collectionName**(): `string`

The name of this collection

#### Returns

`string`

#### Defined in

node_modules/mongodb/mongodb.d.ts:2132

___

### dbName

• `get` **dbName**(): `string`

The name of the database this collection belongs to

#### Returns

`string`

#### Defined in

node_modules/mongodb/mongodb.d.ts:2128

___

### hint

• `get` **hint**(): `undefined` \| [`Hint`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#hint)

The current index hint for the collection

#### Returns

`undefined` \| [`Hint`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#hint)

#### Defined in

node_modules/mongodb/mongodb.d.ts:2155

• `set` **hint**(`v`): `void`

#### Parameters

| Name | Type |
| :------ | :------ |
| `v` | `undefined` \| [`Hint`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#hint) |

#### Returns

`void`

#### Defined in

node_modules/mongodb/mongodb.d.ts:2156

___

### namespace

• `get` **namespace**(): `string`

The namespace of this collection, in the format `${this.dbName}.${this.collectionName}`

#### Returns

`string`

#### Defined in

node_modules/mongodb/mongodb.d.ts:2136

___

### readConcern

• `get` **readConcern**(): `undefined` \| [`ReadConcern`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ReadConcern.md)

The current readConcern of the collection. If not explicitly defined for
this collection, will be inherited from the parent DB

#### Returns

`undefined` \| [`ReadConcern`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ReadConcern.md)

#### Defined in

node_modules/mongodb/mongodb.d.ts:2142

___

### readPreference

• `get` **readPreference**(): `undefined` \| [`ReadPreference`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ReadPreference.md)

The current readPreference of the collection. If not explicitly defined for
this collection, will be inherited from the parent DB

#### Returns

`undefined` \| [`ReadPreference`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ReadPreference.md)

#### Defined in

node_modules/mongodb/mongodb.d.ts:2147

___

### writeConcern

• `get` **writeConcern**(): `undefined` \| [`WriteConcern`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.WriteConcern.md)

The current writeConcern of the collection. If not explicitly defined for
this collection, will be inherited from the parent DB

#### Returns

`undefined` \| [`WriteConcern`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.WriteConcern.md)

#### Defined in

node_modules/mongodb/mongodb.d.ts:2153

## Methods

### aggregate

▸ **aggregate**\<`T`\>(`pipeline?`, `options?`): [`AggregationCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.AggregationCursor.md)\<`T`\>

Execute an aggregation framework pipeline against the collection, needs MongoDB \>= 2.2

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) = [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) |

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `pipeline?` | [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)[] | An array of aggregation pipelines to execute |
| `options?` | [`AggregateOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.AggregateOptions.md) | Optional settings for the command |

#### Returns

[`AggregationCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.AggregationCursor.md)\<`T`\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2491

___

### bulkWrite

▸ **bulkWrite**(`operations`, `options?`): `Promise`\<[`BulkWriteResult`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BulkWriteResult.md)\>

Perform a bulkWrite operation without a fluent API

Legal operation types are
- `insertOne`
- `replaceOne`
- `updateOne`
- `updateMany`
- `deleteOne`
- `deleteMany`

If documents passed in do not contain the **_id** field,
one will be added to each of the documents missing it by the driver, mutating the document. This behavior
can be overridden by setting the **forceServerObjectId** flag.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `operations` | [`AnyBulkWriteOperation`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#anybulkwriteoperation)\<`TSchema`\>[] | Bulk operations to perform |
| `options?` | [`BulkWriteOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BulkWriteOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`BulkWriteResult`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BulkWriteResult.md)\>

**`Throws`**

MongoDriverError if operations is not an array

#### Defined in

node_modules/mongodb/mongodb.d.ts:2194

___

### count

▸ **count**(`filter?`, `options?`): `Promise`\<`number`\>

An estimated count of matching documents in the db to a filter.

**NOTE:** This method has been deprecated, since it does not provide an accurate count of the documents
in a collection. To obtain an accurate count of documents in the collection, use Collection#countDocuments| countDocuments.
To obtain an estimated count of all documents in the collection, use Collection#estimatedDocumentCount| estimatedDocumentCount.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter?` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter for the count. |
| `options?` | [`CountOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.CountOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<`number`\>

**`Deprecated`**

use Collection#countDocuments| countDocuments or Collection#estimatedDocumentCount| estimatedDocumentCount instead

#### Defined in

node_modules/mongodb/mongodb.d.ts:2561

___

### countDocuments

▸ **countDocuments**(`filter?`, `options?`): `Promise`\<`number`\>

Gets the number of documents matching the filter.
For a fast count of the total documents in a collection see Collection#estimatedDocumentCount| estimatedDocumentCount.
**Note**: When migrating from Collection#count| count to Collection#countDocuments| countDocuments
the following query operators must be replaced:

| Operator | Replacement |
| -------- | ----------- |
| `$where`   | [`$expr`][1] |
| `$near`    | [`$geoWithin`][2] with [`$center`][3] |
| `$nearSphere` | [`$geoWithin`][2] with [`$centerSphere`][4] |

[1]: https://www.mongodb.com/docs/manual/reference/operator/query/expr/
[2]: https://www.mongodb.com/docs/manual/reference/operator/query/geoWithin/
[3]: https://www.mongodb.com/docs/manual/reference/operator/query/center/#op._S_center
[4]: https://www.mongodb.com/docs/manual/reference/operator/query/centerSphere/#op._S_centerSphere

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter?` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter for the count |
| `options?` | [`CountDocumentsOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.CountDocumentsOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<`number`\>

**`See`**

 - https://www.mongodb.com/docs/manual/reference/operator/query/expr/
 - https://www.mongodb.com/docs/manual/reference/operator/query/geoWithin/
 - https://www.mongodb.com/docs/manual/reference/operator/query/center/#op._S_center
 - https://www.mongodb.com/docs/manual/reference/operator/query/centerSphere/#op._S_centerSphere

#### Defined in

node_modules/mongodb/mongodb.d.ts:2421

___

### createIndex

▸ **createIndex**(`indexSpec`, `options?`): `Promise`\<`string`\>

Creates an index on the db and collection collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `indexSpec` | [`IndexSpecification`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#indexspecification) | The field name or index specification to create an index for |
| `options?` | [`CreateIndexesOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.CreateIndexesOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<`string`\>

**`Example`**

```ts
const collection = client.db('foo').collection('bar');

await collection.createIndex({ a: 1, b: -1 });

// Alternate syntax for { c: 1, d: -1 } that ensures order of indexes
await collection.createIndex([ [c, 1], [d, -1] ]);

// Equivalent to { e: 1 }
await collection.createIndex('e');

// Equivalent to { f: 1, g: 1 }
await collection.createIndex(['f', 'g'])

// Equivalent to { h: 1, i: -1 }
await collection.createIndex([ { h: 1 }, { i: -1 } ]);

// Equivalent to { j: 1, k: -1, l: 2d }
await collection.createIndex(['j', ['k', -1], { l: '2d' }])
```

#### Defined in

node_modules/mongodb/mongodb.d.ts:2317

___

### createIndexes

▸ **createIndexes**(`indexSpecs`, `options?`): `Promise`\<`string`[]\>

Creates multiple indexes in the collection, this method is only supported for
MongoDB 2.6 or higher. Earlier version of MongoDB will throw a command not supported
error.

**Note**: Unlike Collection#createIndex| createIndex, this function takes in raw index specifications.
Index specifications are defined [here](https://www.mongodb.com/docs/manual/reference/command/createIndexes/|).

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `indexSpecs` | [`IndexDescription`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.IndexDescription.md)[] | An array of index specifications to be created |
| `options?` | [`CreateIndexesOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.CreateIndexesOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<`string`[]\>

**`Example`**

```ts
const collection = client.db('foo').collection('bar');
await collection.createIndexes([
  // Simple index on field fizz
  {
    key: { fizz: 1 },
  }
  // wildcard index
  {
    key: { '$**': 1 }
  },
  // named index on darmok and jalad
  {
    key: { darmok: 1, jalad: -1 }
    name: 'tanagra'
  }
]);
```

#### Defined in

node_modules/mongodb/mongodb.d.ts:2349

___

### createSearchIndex

▸ **createSearchIndex**(`description`): `Promise`\<`string`\>

Creates a single search index for the collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `description` | [`SearchIndexDescription`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.SearchIndexDescription.md) | The index description for the new search index. |

#### Returns

`Promise`\<`string`\>

A promise that resolves to the name of the new search index.

**`Remarks`**

Only available when used against a 7.0+ Atlas cluster.

#### Defined in

node_modules/mongodb/mongodb.d.ts:2587

___

### createSearchIndexes

▸ **createSearchIndexes**(`descriptions`): `Promise`\<`string`[]\>

Creates multiple search indexes for the current collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `descriptions` | [`SearchIndexDescription`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.SearchIndexDescription.md)[] | An array of `SearchIndexDescription`s for the new search indexes. |

#### Returns

`Promise`\<`string`[]\>

A promise that resolves to an array of the newly created search index names.

**`Remarks`**

Only available when used against a 7.0+ Atlas cluster.

#### Defined in

node_modules/mongodb/mongodb.d.ts:2597

___

### deleteMany

▸ **deleteMany**(`filter?`, `options?`): `Promise`\<[`DeleteResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.DeleteResult.md)\>

Delete multiple documents from a collection

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter?` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter used to select the documents to remove |
| `options?` | [`DeleteOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.DeleteOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`DeleteResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.DeleteResult.md)\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2240

___

### deleteOne

▸ **deleteOne**(`filter?`, `options?`): `Promise`\<[`DeleteResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.DeleteResult.md)\>

Delete a document from a collection

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter?` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter used to select the document to remove |
| `options?` | [`DeleteOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.DeleteOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`DeleteResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.DeleteResult.md)\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2233

___

### distinct

▸ **distinct**\<`Key`\>(`key`): `Promise`\<[`Flatten`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#flatten)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>[`Key`]\>[]\>

The distinct command returns a list of distinct values for the given key across a collection.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `Key` | extends `string` \| `number` \| `symbol` |

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `key` | `Key` | Field of the document to find distinct values for |

#### Returns

`Promise`\<[`Flatten`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#flatten)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>[`Key`]\>[]\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2429

▸ **distinct**\<`Key`\>(`key`, `filter`): `Promise`\<[`Flatten`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#flatten)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>[`Key`]\>[]\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `Key` | extends `string` \| `number` \| `symbol` |

#### Parameters

| Name | Type |
| :------ | :------ |
| `key` | `Key` |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |

#### Returns

`Promise`\<[`Flatten`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#flatten)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>[`Key`]\>[]\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2430

▸ **distinct**\<`Key`\>(`key`, `filter`, `options`): `Promise`\<[`Flatten`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#flatten)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>[`Key`]\>[]\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `Key` | extends `string` \| `number` \| `symbol` |

#### Parameters

| Name | Type |
| :------ | :------ |
| `key` | `Key` |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `options` | [`CommandOperationOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.CommandOperationOptions.md) |

#### Returns

`Promise`\<[`Flatten`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#flatten)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>[`Key`]\>[]\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2431

▸ **distinct**(`key`): `Promise`\<`any`[]\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `key` | `string` |

#### Returns

`Promise`\<`any`[]\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2432

▸ **distinct**(`key`, `filter`): `Promise`\<`any`[]\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `key` | `string` |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |

#### Returns

`Promise`\<`any`[]\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2433

▸ **distinct**(`key`, `filter`, `options`): `Promise`\<`any`[]\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `key` | `string` |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `options` | [`CommandOperationOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.CommandOperationOptions.md) |

#### Returns

`Promise`\<`any`[]\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2434

___

### drop

▸ **drop**(`options?`): `Promise`\<`boolean`\>

Drop the collection from the database, removing it permanently. New accesses will create a new collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | [`DropCollectionOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.DropCollectionOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<`boolean`\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2256

___

### dropIndex

▸ **dropIndex**(`indexName`, `options?`): `Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\>

Drops an index from this collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `indexName` | `string` | Name of the index to drop. |
| `options?` | [`CommandOperationOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.CommandOperationOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2356

___

### dropIndexes

▸ **dropIndexes**(`options?`): `Promise`\<`boolean`\>

Drops all indexes from this collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | [`CommandOperationOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.CommandOperationOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<`boolean`\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2362

___

### dropSearchIndex

▸ **dropSearchIndex**(`name`): `Promise`\<`void`\>

Deletes a search index by index name.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `name` | `string` | The name of the search index to be deleted. |

#### Returns

`Promise`\<`void`\>

**`Remarks`**

Only available when used against a 7.0+ Atlas cluster.

#### Defined in

node_modules/mongodb/mongodb.d.ts:2605

___

### estimatedDocumentCount

▸ **estimatedDocumentCount**(`options?`): `Promise`\<`number`\>

Gets an estimate of the count of documents in a collection using collection metadata.
This will always run a count command on all server versions.

due to an oversight in versions 5.0.0-5.0.8 of MongoDB, the count command,
which estimatedDocumentCount uses in its implementation, was not included in v1 of
the Stable API, and so users of the Stable API with estimatedDocumentCount are
recommended to upgrade their server version to 5.0.9+ or set apiStrict: false to avoid
encountering errors.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | [`EstimatedDocumentCountOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.EstimatedDocumentCountOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<`number`\>

**`See`**

[Behavior](https://www.mongodb.com/docs/manual/reference/command/count/#behavior|Count:)

#### Defined in

node_modules/mongodb/mongodb.d.ts:2395

___

### find

▸ **find**(): [`FindCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindCursor.md)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

Creates a cursor for a filter that can be used to iterate over results from MongoDB

#### Returns

[`FindCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindCursor.md)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2274

▸ **find**(`filter`, `options?`): [`FindCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindCursor.md)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `options?` | [`FindOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOptions.md)\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\> |

#### Returns

[`FindCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindCursor.md)\<[`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2275

▸ **find**\<`T`\>(`filter`, `options?`): [`FindCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindCursor.md)\<`T`\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) |

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `options?` | [`FindOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOptions.md)\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\> |

#### Returns

[`FindCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindCursor.md)\<`T`\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2276

___

### findOne

▸ **findOne**(): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

Fetches the first document that matches the filter

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2263

▸ **findOne**(`filter`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2264

▸ **findOne**(`filter`, `options`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `options` | [`FindOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOptions.md)\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\> |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2265

▸ **findOne**\<`T`\>(): `Promise`\<``null`` \| `T`\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | `TSchema` |

#### Returns

`Promise`\<``null`` \| `T`\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2266

▸ **findOne**\<`T`\>(`filter`): `Promise`\<``null`` \| `T`\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | `TSchema` |

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |

#### Returns

`Promise`\<``null`` \| `T`\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2267

▸ **findOne**\<`T`\>(`filter`, `options?`): `Promise`\<``null`` \| `T`\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | `TSchema` |

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `options?` | [`FindOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOptions.md)\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\> |

#### Returns

`Promise`\<``null`` \| `T`\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2268

___

### findOneAndDelete

▸ **findOneAndDelete**(`filter`, `options`): `Promise`\<[`ModifyResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ModifyResult.md)\<`TSchema`\>\>

Find a document and delete it in one atomic operation. Requires a write lock for the duration of the operation.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter used to select the document to remove |
| `options` | [`FindOneAndDeleteOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOneAndDeleteOptions.md) & \{ `includeResultMetadata`: ``true``  } | Optional settings for the command |

#### Returns

`Promise`\<[`ModifyResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ModifyResult.md)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2447

▸ **findOneAndDelete**(`filter`, `options`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `options` | [`FindOneAndDeleteOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOneAndDeleteOptions.md) & \{ `includeResultMetadata`: ``false``  } |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2450

▸ **findOneAndDelete**(`filter`, `options`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `options` | [`FindOneAndDeleteOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOneAndDeleteOptions.md) |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2453

▸ **findOneAndDelete**(`filter`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2454

___

### findOneAndReplace

▸ **findOneAndReplace**(`filter`, `replacement`, `options`): `Promise`\<[`ModifyResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ModifyResult.md)\<`TSchema`\>\>

Find a document and replace it in one atomic operation. Requires a write lock for the duration of the operation.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter used to select the document to replace |
| `replacement` | [`WithoutId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withoutid)\<`TSchema`\> | The Document that replaces the matching document |
| `options` | [`FindOneAndReplaceOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOneAndReplaceOptions.md) & \{ `includeResultMetadata`: ``true``  } | Optional settings for the command |

#### Returns

`Promise`\<[`ModifyResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ModifyResult.md)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2462

▸ **findOneAndReplace**(`filter`, `replacement`, `options`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `replacement` | [`WithoutId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withoutid)\<`TSchema`\> |
| `options` | [`FindOneAndReplaceOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOneAndReplaceOptions.md) & \{ `includeResultMetadata`: ``false``  } |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2465

▸ **findOneAndReplace**(`filter`, `replacement`, `options`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `replacement` | [`WithoutId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withoutid)\<`TSchema`\> |
| `options` | [`FindOneAndReplaceOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOneAndReplaceOptions.md) |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2468

▸ **findOneAndReplace**(`filter`, `replacement`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `replacement` | [`WithoutId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withoutid)\<`TSchema`\> |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2469

___

### findOneAndUpdate

▸ **findOneAndUpdate**(`filter`, `update`, `options`): `Promise`\<[`ModifyResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ModifyResult.md)\<`TSchema`\>\>

Find a document and update it in one atomic operation. Requires a write lock for the duration of the operation.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter used to select the document to update |
| `update` | [`UpdateFilter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#updatefilter)\<`TSchema`\> | Update operations to be performed on the document |
| `options` | [`FindOneAndUpdateOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOneAndUpdateOptions.md) & \{ `includeResultMetadata`: ``true``  } | Optional settings for the command |

#### Returns

`Promise`\<[`ModifyResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ModifyResult.md)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2477

▸ **findOneAndUpdate**(`filter`, `update`, `options`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `update` | [`UpdateFilter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#updatefilter)\<`TSchema`\> |
| `options` | [`FindOneAndUpdateOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOneAndUpdateOptions.md) & \{ `includeResultMetadata`: ``false``  } |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2480

▸ **findOneAndUpdate**(`filter`, `update`, `options`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `update` | [`UpdateFilter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#updatefilter)\<`TSchema`\> |
| `options` | [`FindOneAndUpdateOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.FindOneAndUpdateOptions.md) |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2483

▸ **findOneAndUpdate**(`filter`, `update`): `Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> |
| `update` | [`UpdateFilter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#updatefilter)\<`TSchema`\> |

#### Returns

`Promise`\<``null`` \| [`WithId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withid)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2484

___

### indexExists

▸ **indexExists**(`indexes`, `options?`): `Promise`\<`boolean`\>

Checks if one or more indexes exist on the collection, fails on first non-existing index

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `indexes` | `string` \| `string`[] | One or more index names to check. |
| `options?` | [`IndexInformationOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.IndexInformationOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<`boolean`\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2375

___

### indexInformation

▸ **indexInformation**(`options?`): `Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\>

Retrieves this collections index info.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | [`IndexInformationOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.IndexInformationOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2381

___

### indexes

▸ **indexes**(`options?`): `Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)[]\>

Retrieve all the indexes on the collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | [`IndexInformationOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.IndexInformationOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)[]\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2440

___

### initializeOrderedBulkOp

▸ **initializeOrderedBulkOp**(`options?`): [`OrderedBulkOperation`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.OrderedBulkOperation.md)

Initiate an In order bulk write operation. Operations will be serially executed in the order they are added, creating a new operation for each switch in types.

#### Parameters

| Name | Type |
| :------ | :------ |
| `options?` | [`BulkWriteOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BulkWriteOptions.md) |

#### Returns

[`OrderedBulkOperation`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.OrderedBulkOperation.md)

**`Throws`**

MongoNotConnectedError

**`Remarks`**

**NOTE:** MongoClient must be connected prior to calling this method due to a known limitation in this legacy implementation.
However, `collection.bulkWrite()` provides an equivalent API that does not require prior connecting.

#### Defined in

node_modules/mongodb/mongodb.d.ts:2548

___

### initializeUnorderedBulkOp

▸ **initializeUnorderedBulkOp**(`options?`): [`UnorderedBulkOperation`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UnorderedBulkOperation.md)

Initiate an Out of order batch write operation. All operations will be buffered into insert/update/remove commands executed out of order.

#### Parameters

| Name | Type |
| :------ | :------ |
| `options?` | [`BulkWriteOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BulkWriteOptions.md) |

#### Returns

[`UnorderedBulkOperation`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UnorderedBulkOperation.md)

**`Throws`**

MongoNotConnectedError

**`Remarks`**

**NOTE:** MongoClient must be connected prior to calling this method due to a known limitation in this legacy implementation.
However, `collection.bulkWrite()` provides an equivalent API that does not require prior connecting.

#### Defined in

node_modules/mongodb/mongodb.d.ts:2539

___

### insertMany

▸ **insertMany**(`docs`, `options?`): `Promise`\<[`InsertManyResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.InsertManyResult.md)\<`TSchema`\>\>

Inserts an array of documents into MongoDB. If documents passed in do not contain the **_id** field,
one will be added to each of the documents missing it by the driver, mutating the document. This behavior
can be overridden by setting the **forceServerObjectId** flag.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `docs` | [`OptionalUnlessRequiredId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#optionalunlessrequiredid)\<`TSchema`\>[] | The documents to insert |
| `options?` | [`BulkWriteOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BulkWriteOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`InsertManyResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.InsertManyResult.md)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2174

___

### insertOne

▸ **insertOne**(`doc`, `options?`): `Promise`\<[`InsertOneResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.InsertOneResult.md)\<`TSchema`\>\>

Inserts a single document into MongoDB. If documents passed in do not contain the **_id** field,
one will be added to each of the documents missing it by the driver, mutating the document. This behavior
can be overridden by setting the **forceServerObjectId** flag.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `doc` | [`OptionalUnlessRequiredId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#optionalunlessrequiredid)\<`TSchema`\> | The document to insert |
| `options?` | [`InsertOneOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.InsertOneOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`InsertOneResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.InsertOneResult.md)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2165

___

### isCapped

▸ **isCapped**(`options?`): `Promise`\<`boolean`\>

Returns if the collection is a capped collection

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | [`OperationOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.OperationOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<`boolean`\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2288

___

### listIndexes

▸ **listIndexes**(`options?`): [`ListIndexesCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ListIndexesCursor.md)

Get the list of all indexes information for the collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | [`ListIndexesOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ListIndexesOptions.md) | Optional settings for the command |

#### Returns

[`ListIndexesCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ListIndexesCursor.md)

#### Defined in

node_modules/mongodb/mongodb.d.ts:2368

___

### listSearchIndexes

▸ **listSearchIndexes**(`options?`): [`ListSearchIndexesCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ListSearchIndexesCursor.md)

Returns all search indexes for the current collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | [`AggregateOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.AggregateOptions.md) | The options for the list indexes operation. |

#### Returns

[`ListSearchIndexesCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ListSearchIndexesCursor.md)

**`Remarks`**

Only available when used against a 7.0+ Atlas cluster.

#### Defined in

node_modules/mongodb/mongodb.d.ts:2569

▸ **listSearchIndexes**(`name`, `options?`): [`ListSearchIndexesCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ListSearchIndexesCursor.md)

Returns all search indexes for the current collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `name` | `string` | The name of the index to search for. Only indexes with matching index names will be returned. |
| `options?` | [`AggregateOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.AggregateOptions.md) | The options for the list indexes operation. |

#### Returns

[`ListSearchIndexesCursor`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ListSearchIndexesCursor.md)

**`Remarks`**

Only available when used against a 7.0+ Atlas cluster.

#### Defined in

node_modules/mongodb/mongodb.d.ts:2578

___

### options

▸ **options**(`options?`): `Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\>

Returns the options of the collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | [`OperationOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.OperationOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2282

___

### rename

▸ **rename**(`newName`, `options?`): `Promise`\<[`Collection`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md)\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\>\>

Rename the collection.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `newName` | `string` | New name of of the collection. |
| `options?` | [`RenameOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.RenameOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`Collection`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.Collection.md)\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)\>\>

**`Remarks`**

This operation does not inherit options from the Db or MongoClient.

#### Defined in

node_modules/mongodb/mongodb.d.ts:2250

___

### replaceOne

▸ **replaceOne**(`filter`, `replacement`, `options?`): `Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) \| [`UpdateResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UpdateResult.md)\<`TSchema`\>\>

Replace a document in a collection with another document

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter used to select the document to replace |
| `replacement` | [`WithoutId`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#withoutid)\<`TSchema`\> | The Document that replaces the matching document |
| `options?` | [`ReplaceOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ReplaceOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) \| [`UpdateResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UpdateResult.md)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2214

___

### updateMany

▸ **updateMany**(`filter`, `update`, `options?`): `Promise`\<[`UpdateResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UpdateResult.md)\<`TSchema`\>\>

Update multiple documents in a collection

The value of `update` can be either:
- UpdateFilter<TSchema> - A document that contains update operator expressions,
- Document[] - an aggregation pipeline.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter used to select the document to update |
| `update` | [`UpdateFilter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#updatefilter)\<`TSchema`\> \| [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)[] | The modifications to apply |
| `options?` | [`UpdateOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UpdateOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`UpdateResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UpdateResult.md)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2226

___

### updateOne

▸ **updateOne**(`filter`, `update`, `options?`): `Promise`\<[`UpdateResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UpdateResult.md)\<`TSchema`\>\>

Update a single document in a collection

The value of `update` can be either:
- UpdateFilter<TSchema> - A document that contains update operator expressions,
- Document[] - an aggregation pipeline.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter` | [`Filter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#filter)\<`TSchema`\> | The filter used to select the document to update |
| `update` | [`UpdateFilter`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#updatefilter)\<`TSchema`\> \| [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)[] | The modifications to apply |
| `options?` | [`UpdateOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UpdateOptions.md) | Optional settings for the command |

#### Returns

`Promise`\<[`UpdateResult`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.UpdateResult.md)\<`TSchema`\>\>

#### Defined in

node_modules/mongodb/mongodb.d.ts:2206

___

### updateSearchIndex

▸ **updateSearchIndex**(`name`, `definition`): `Promise`\<`void`\>

Updates a search index by replacing the existing index definition with the provided definition.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `name` | `string` | The name of the search index to update. |
| `definition` | [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) | The new search index definition. |

#### Returns

`Promise`\<`void`\>

**`Remarks`**

Only available when used against a 7.0+ Atlas cluster.

#### Defined in

node_modules/mongodb/mongodb.d.ts:2614

___

### watch

▸ **watch**\<`TLocal`, `TChange`\>(`pipeline?`, `options?`): [`ChangeStream`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ChangeStream.md)\<`TLocal`, `TChange`\>

Create a new Change Stream, watching for new changes (insertions, updates, replacements, deletions, and invalidations) in this collection.

#### Type parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `TLocal` | extends [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) = `TSchema` | Type of the data being detected by the change stream |
| `TChange` | extends [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md) = [`ChangeStreamDocument`](../modules/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.md#changestreamdocument)\<`TLocal`\> | Type of the whole change stream document emitted |

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `pipeline?` | [`Document`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.BSON.Document.md)[] | An array of [pipeline stages](https://www.mongodb.com/docs/manual/reference/operator/aggregation-pipeline/\|aggregation) through which to pass change stream documents. This allows for filtering (using $match) and manipulating the change stream documents. |
| `options?` | [`ChangeStreamOptions`](../interfaces/internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ChangeStreamOptions.md) | Optional settings for the command |

#### Returns

[`ChangeStream`](internal_._Z__mongo_baseOps_node_modules_mongodb_mongodb_.ChangeStream.md)\<`TLocal`, `TChange`\>

**`Remarks`**

watch() accepts two generic arguments for distinct use cases:
- The first is to override the schema that may be defined for this specific collection
- The second is to override the shape of the change stream document entirely, if it is not provided the type will default to ChangeStreamDocument of the first argument

**`Example`**

By just providing the first argument I can type the change to be `ChangeStreamDocument<{ _id: number }>`
```ts
collection.watch<{ _id: number }>()
  .on('change', change => console.log(change._id.toFixed(4)));
```

**`Example`**

Passing a second argument provides a way to reflect the type changes caused by an advanced pipeline.
Here, we are using a pipeline to have MongoDB filter for insert changes only and add a comment.
No need start from scratch on the ChangeStreamInsertDocument type!
By using an intersection we can save time and ensure defaults remain the same type!
```ts
collection
  .watch<Schema, ChangeStreamInsertDocument<Schema> & { comment: string }>([
    { $addFields: { comment: 'big changes' } },
    { $match: { operationType: 'insert' } }
  ])
  .on('change', change => {
    change.comment.startsWith('big');
    change.operationType === 'insert';
    // No need to narrow in code because the generics did that for us!
    expectType<Schema>(change.fullDocument);
  });
```

#### Defined in

node_modules/mongodb/mongodb.d.ts:2530
